# Go实现分布式锁
实现跨服务间的分布式锁,如微服务间如何确保竞态唯一性，k8s中多个pod竞态。

场景：实现电商抢购

## 设计规则
- 互斥性  同一时间只有一个客户端拿到锁；
- 避免死锁 
- 容错性 程序运行出错释放锁
- 解锁、加锁必须同一客户端

## 方案
1. 使用redis
步骤：
- 客户端加锁：不存在设置key；
- 设置过期时间，避免死锁；
- 客户端设置随机数token，解锁token必须一致；
- 程序出错，解锁；

2. 使用zookeeper
